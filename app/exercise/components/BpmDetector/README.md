# BPM 檢測功能安裝指南

本文檔提供了安裝和使用 BPM 檢測功能所需的步驟。

## 安裝依賴項

首先，您需要安裝 TensorFlow.js 和 Pose Detection 模型：

```bash
npm install @tensorflow/tfjs @tensorflow-models/pose-detection
```

## 功能概述

BPM 檢測功能使用了 TensorFlow.js 的 MoveNet 模型來進行實時姿態估計，然後通過分析腿部動作來計算跑步的步頻（BPM）。

### 主要組件

1. **BpmDetector**: 負責攝像頭輸入和姿態估計
2. **UnifiedTimer**: 整合了 BPM 檢測器和計時器功能

## 使用方法

在超慢跑模式下，您將看到一個「步頻檢測」開關。啟用後，將會要求權限訪問您的攝像頭。系統會自動檢測您的跑步步頻，並與目標 BPM 進行比較。

## 技術細節

- 使用 MoveNet (Lightning) 模型進行實時人體姿態估計
- 通過監測膝蓋和腳踝的運動來計算步頻
- 採用時間序列分析來計算 BPM
- 在瀏覽器中本地執行，不會將視頻數據發送到服務器

## 注意事項

- 攝像頭應該能夠拍攝到您的腿部
- 確保有足夠的光線和空間
- 初始檢測可能需要幾秒鐘時間來收集數據
- 如果您看到「無法訪問攝像頭」錯誤，請確保您已授予瀏覽器訪問權限

## 故障排除

1. **無法加載模型**: 確保您的網絡連接正常，或者嘗試刷新頁面
2. **攝像頭無法訪問**: 檢查瀏覽器權限設置
3. **檢測不準確**: 調整攝像頭位置，確保能夠看到您的整個腿部
