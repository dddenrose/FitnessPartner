# Neo â€” Fitness Partner

![Neo Fitness Partner](/public/homepage.jpg)

[![Next.js](https://img.shields.io/badge/Next.js-14-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-18-61DAFB?logo=react)](https://react.dev/)
[![Redux Toolkit](https://img.shields.io/badge/Redux_Toolkit-2-764ABC?logo=redux)](https://redux-toolkit.js.org/)
[![Firebase](https://img.shields.io/badge/Firebase-11-FFCA28?logo=firebase)](https://firebase.google.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?logo=typescript)](https://www.typescriptlang.org/)

**èªè¨€ï¼š** [English](./README.md) | ç¹é«”ä¸­æ–‡

---

## ç›®éŒ„

- [å°ˆæ¡ˆç°¡ä»‹](#å°ˆæ¡ˆç°¡ä»‹)
- [ä¸»è¦åŠŸèƒ½](#ä¸»è¦åŠŸèƒ½)
- [ä½¿ç”¨æµç¨‹](#ä½¿ç”¨æµç¨‹)
- [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
- [æŠ€è¡“é¸å‹èˆ‡æ¶æ§‹](#æŠ€è¡“é¸å‹èˆ‡æ¶æ§‹)
  - [å‰ç«¯æŠ€è¡“](#å‰ç«¯æŠ€è¡“)
  - [UI ç³»çµ±èˆ‡è¨­è¨ˆåˆ¶åº¦](#ui-ç³»çµ±èˆ‡è¨­è¨ˆåˆ¶åº¦)
  - [æª”æ¡ˆåˆ†å±¤æ¶æ§‹](#æª”æ¡ˆåˆ†å±¤æ¶æ§‹)
  - [ç‹€æ…‹ç®¡ç†](#ç‹€æ…‹ç®¡ç†)
  - [Hooks æ¶æ§‹](#hooks-æ¶æ§‹)
  - [æ¨£å¼æ¶æ§‹](#æ¨£å¼æ¶æ§‹)
  - [å„²å­˜æ–¹æ¡ˆèˆ‡ç¬¬ä¸‰æ–¹æœå‹™](#å„²å­˜æ–¹æ¡ˆèˆ‡ç¬¬ä¸‰æ–¹æœå‹™)
- [æ¶æ§‹åœ–](#æ¶æ§‹åœ–)

---

## å°ˆæ¡ˆç°¡ä»‹

**Neo Fitness Partner** æ˜¯ä¸€æ¬¾å°ˆæ³¨æ–¼å¥èº«å’Œè·‘æ­¥è¨“ç·´çš„ Web æ‡‰ç”¨ç¨‹å¼ï¼Œæä¾›é«˜åº¦å®¢è£½åŒ–çš„é‹å‹•é«”é©—ã€‚ç„¡è«–æ‚¨æ˜¯å¥èº«æ„›å¥½è€…é‚„æ˜¯è·‘æ­¥ç©å®¶ï¼Œéƒ½èƒ½é€éç°¡å–®çš„è¨­å®šï¼Œäº«å—åˆ°å°ˆæ¥­ç´šçš„è¨“ç·´æŒ‡å°å’Œè¨˜éŒ„åŠŸèƒ½ã€‚

---

## ä¸»è¦åŠŸèƒ½

### 1. HIIT é«˜å¼·åº¦é–“æ­‡è¨“ç·´

![HIIT è¨“ç·´æ¨¡å¼](/public/hiit.jpg)

- æä¾›è±å¯Œçš„é‹å‹•é …ç›®é¸æ“‡ï¼ˆå¦‚ç™»å±±è€…ã€æ·±è¹²ç­‰ï¼‰
- å¯è‡ªå®šç¾©æ¯çµ„é‹å‹•æ™‚é•·
- è‡ªå®šç¾©çµ„é–“ä¼‘æ¯æ™‚é–“
- å¤šçµ„è¨“ç·´è‡ªå‹•åˆ‡æ›
- é‹å‹•è¨ˆæ™‚å™¨èˆ‡æç¤ºéŸ³

### 2. è¶…æ…¢è·‘æ¨¡å¼

![è¶…æ…¢è·‘æ¨¡å¼](/public/slow_run.jpg)

- å¯èª¿æ•´æ­¥é » (BPM)
- æ™ºèƒ½ç¯€æ‹å™¨è¼”åŠ©
- ä¸é™åˆ¶æ™‚é–“çš„è‡ªç”±è¨“ç·´æ¨¡å¼
- å¯¦æ™‚ç´¯è¨ˆé‹å‹•æ™‚é–“

### 3. é‹å‹•å ±è¡¨

- è©³ç´°çš„é‹å‹•æ­·å²è¨˜éŒ„
- ä¸åŒæ™‚é–“ç¶­åº¦çš„æ•¸æ“šåˆ†æï¼ˆæ—¥ã€é€±ã€æœˆã€å¹´ï¼‰
- å¯è¦–åŒ–åœ–è¡¨å±•ç¤ºè¨“ç·´é€²åº¦
- æ”¯æŒæ—¥æœŸç¯„åœç¯©é¸

---

## ä½¿ç”¨æµç¨‹

1. **è¨ˆåŠƒè¨­å®š**

   ![é‹å‹•è¨ˆåŠƒè¨­å®š](/public/workout_plan.jpg)

   - åœ¨ `create-workout-plan` é é¢é¸æ“‡é‹å‹•é¡å‹
   - æ ¹æ“šé¸æ“‡çš„é¡å‹é€²è¡Œè©³ç´°è¨­å®šï¼š
     - **HIIT æ¨¡å¼**ï¼šé¸æ“‡é‹å‹•é …ç›®ã€è¨­å®šé‹å‹•æ™‚é–“å’Œä¼‘æ¯æ™‚é–“
     - **è¶…æ…¢è·‘æ¨¡å¼**ï¼šè¨­å®šæ­¥é » (BPM)

2. **é‹å‹•åŸ·è¡Œ**

   - **HIIT æ¨¡å¼**ï¼šé¡¯ç¤ºç•¶å‰é‹å‹•é …ç›®å’Œå€’è¨ˆæ™‚ï¼Œæä¾›æš«åœã€è·³éã€éœéŸ³ã€å®Œæˆç­‰æ§åˆ¶åŠŸèƒ½ï¼Œçµ„é–“è‡ªå‹•åˆ‡æ›ä¼‘æ¯èˆ‡è¨“ç·´
   - **è¶…æ…¢è·‘æ¨¡å¼**ï¼šé¡¯ç¤ºç¯€æ‹å™¨å’Œç´¯è¨ˆæ™‚é–“ï¼Œæä¾›æš«åœã€ç¯€æ‹å™¨é–‹é—œã€å®Œæˆç­‰æ§åˆ¶åŠŸèƒ½

3. **æˆæœæª¢è¦–**

   ![é‹å‹•å ±è¡¨](/public/report.jpg)

   - é‹å‹•å®Œæˆå¾Œæ•¸æ“šè‡ªå‹•è¨˜éŒ„
   - åœ¨å ±è¡¨é é¢æŸ¥çœ‹æ­·å²è¨“ç·´æ•¸æ“šèˆ‡åˆ†æ

### ç•«é¢ä¸€è¦½

| é é¢ | ç”¨é€” |
|---|---|
| é¦–é  | ä»‹ç´¹æ‡‰ç”¨åŠŸèƒ½ï¼Œæä¾›å¿«é€Ÿå…¥å£ |
| é‹å‹•è¨ˆåŠƒé  | è¨­ç½®è¨“ç·´åƒæ•¸çš„ç•Œé¢ |
| é‹å‹•åŸ·è¡Œé  | æ ¹æ“šä¸åŒæ¨¡å¼é¡¯ç¤ºå°æ‡‰çš„è¨“ç·´ç•Œé¢ |
| å ±è¡¨é  | å±•ç¤ºæ­·å²æ•¸æ“šå’Œåˆ†æåœ–è¡¨ |

---

## å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Node.js â‰¥ 18
- ä¸€å€‹ Firebase å°ˆæ¡ˆï¼ˆéœ€å•Ÿç”¨ Authentication èˆ‡ Firestoreï¼‰

### å®‰è£

```bash
# Clone å°ˆæ¡ˆ
git clone <repo-url>
cd FitnessPartner

# å®‰è£ç›¸ä¾å¥—ä»¶
npm install
```

### ç’°å¢ƒè®Šæ•¸

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ `.env.local` ä¸¦å¡«å…¥ Firebase è¨­å®šï¼š

```env
NEXT_PUBLIC_FIREBASE_API_KEY=
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=
NEXT_PUBLIC_FIREBASE_PROJECT_ID=
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=
NEXT_PUBLIC_FIREBASE_APP_ID=
```

### é–‹ç™¼æŒ‡ä»¤

```bash
npm run dev       # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ (http://localhost:3000)
npm run build     # ç”Ÿç”¢ç’°å¢ƒå»ºç½®
npm run start     # å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨
npm run lint      # åŸ·è¡Œ ESLint
```

---

## æŠ€è¡“é¸å‹èˆ‡æ¶æ§‹

### å‰ç«¯æŠ€è¡“

| åˆ†é¡ | æŠ€è¡“ |
|---|---|
| æ¡†æ¶ | Next.js 14 (App Router) |
| UI åº« | Ant Design + å®¢è£½åŒ–æ¨£å¼ |
| ç‹€æ…‹ç®¡ç† | Redux Toolkit + Redux Persist |
| æ¨£å¼æ–¹æ¡ˆ | CSS Modulesï¼ˆä¸»è¦ï¼‰ã€Tailwind CSSï¼ˆè¼”åŠ©ï¼‰ã€Ant Design ä¸»é¡Œç³»çµ± |
| å‹•ç•«æ•ˆæœ | React Springï¼ˆèƒŒæ™¯å‹•æ…‹æ•ˆæœï¼‰ã€CSS å‹•ç•«ï¼ˆä»‹é¢éæ¸¡ï¼‰ |
| éŸ³æ•ˆè™•ç† | Web Audio API + use-sound |

### UI ç³»çµ±èˆ‡è¨­è¨ˆåˆ¶åº¦

Neo æ‡‰ç”¨æ¡ç”¨å®Œæ•´çš„è¨­è¨ˆç³»çµ±ï¼Œç¢ºä¿è¦–è¦ºä¸€è‡´æ€§èˆ‡ç„¡éšœç¤™æ€§ã€‚

#### è¨­è¨ˆ Tokens

| Token | èªªæ˜ |
|---|---|
| è‰²å½©ç³»çµ± | 50â€“900 åˆ†ç´šè‰²éšï¼Œæ”¯æ´æ·±è‰²/æ·ºè‰²ä¸»é¡Œè‡ªå‹•åˆ‡æ› |
| æ’ç‰ˆç³»çµ± | å¾ xs åˆ° 9xl çš„å®Œæ•´å­—è™Ÿå±¤ç´š |
| é–“è·ç³»çµ± | åŸºæ–¼ 4px ç¶²æ ¼çš„çµ±ä¸€é–“è· |
| é™°å½±ç³»çµ± | 4 å€‹ç­‰ç´šçš„æ·±åº¦è¡¨ç¾ |
| åœ“è§’ç³»çµ± | 4 å€‹ç­‰ç´šçš„åœ“è§’å€¼ |

#### éŸ¿æ‡‰å¼è¨­è¨ˆ

- **æ–·é»**ï¼šMobile (639px)ã€Tablet (1023px)ã€Desktop
- **ç§»å‹•å„ªå…ˆ**ï¼šå¾è¡Œå‹•è¨­å‚™é–‹å§‹è¨­è¨ˆ
- **è‡ªé©æ‡‰å°èˆª**ï¼šæ‰‹æ©Ÿæ¼¢å ¡é¸å–® + æ¡Œé¢æ©«å‘å°èˆª

#### ç„¡éšœç¤™æ€§ (A11y)

- âœ… WCAG AA è‰²å½©å°æ¯”åº¦æ¨™æº–
- âœ… éµç›¤å°èˆªæ”¯æ´ï¼ˆTabã€Enterã€Escapeï¼‰
- âœ… ARIA labels èˆ‡èªç¾©åŒ– HTML
- âœ… ç„¦é»æŒ‡ç¤ºè¦–è¦ºåé¥‹
- âœ… åœ–ç‰‡ alt text èˆ‡åœ–æ¨™ aria-label

#### ä¸»é¡Œç³»çµ±

- æ·±è‰²æ¨¡å¼ï¼ˆé è¨­ï¼‰èˆ‡æ·ºè‰²æ¨¡å¼
- å¹³æ»‘ä¸»é¡Œåˆ‡æ›å‹•ç•«ï¼ˆView Transition APIï¼‰
- ç³»çµ±åå¥½è‡ªå‹•æª¢æ¸¬
- ç”¨æˆ¶åå¥½æŒä¹…åŒ–

#### å¸¸ç”¨ UI çµ„ä»¶

| çµ„ä»¶ | ç”¨é€” |
|---|---|
| `Skeleton` | 6 ç¨®é¡å‹çš„åŠ è¼‰å ä½ç¬¦ |
| `Spinner` | è¡Œå…§å’Œå…¨å±åŠ è¼‰æŒ‡ç¤ºå™¨ |
| `EmptyState` | ç„¡è³‡æ–™ç‹€æ…‹æç¤º |
| `ErrorState` | éŒ¯èª¤è™•ç†èˆ‡æ¢å¾©å»ºè­° |

#### ç›¸é—œæ–‡æª”

- ğŸ“š [è¨­è¨ˆç³»çµ±æŒ‡å—](./docs/design-system.md)
- ğŸ“š [çµ„ä»¶åº«æ–‡æª”](./docs/component-library.md)
- ğŸ“š [CSS ç­–ç•¥](./docs/css-strategy.md)
- ğŸ“š [æ•ˆèƒ½æŒ‡å—](./docs/performance-guide.md)

### æª”æ¡ˆåˆ†å±¤æ¶æ§‹

#### æ‡‰ç”¨å±¤çµæ§‹

```
/app                        # Next.js App Router æ ¹ç›®éŒ„
  /components               # å…±ç”¨å…ƒä»¶
  /[feature]                # åŠŸèƒ½é é¢ï¼ˆå¦‚ exercise, create-workout-planï¼‰
    /page.tsx               # é é¢å…¥å£
    /components             # åŠŸèƒ½å°ˆå±¬å…ƒä»¶
      /[ComponentName]
        /index.tsx          # å…ƒä»¶ä¸»æª”
        /styles.module.css  # å…ƒä»¶æ¨£å¼
        /const.ts           # å…ƒä»¶å¸¸æ•¸
  /interface                # TypeScript ä»‹é¢å®šç¾©
  /static                   # éœæ…‹è³‡æº

/lib                        # é‚è¼¯å±¤èˆ‡å…±ç”¨åŠŸèƒ½
  /features                 # Redux åŠŸèƒ½æ¨¡çµ„ï¼ˆslicesï¼‰
  /hooks                    # è‡ªå®šç¾© Hooks
  /utils                    # å·¥å…·å‡½æ•¸
```

#### å…ƒä»¶çµæ§‹æ¨™æº–

æ¯å€‹å…ƒä»¶éµå¾ªä¸€è‡´çš„çµæ§‹æ¨¡å¼ï¼š

```
/ComponentName
  /index.tsx           # å…ƒä»¶ä¸»æª”
  /styles.module.css   # å°è£çš„æ¨£å¼
  /const.ts            # å…ƒä»¶ç›¸é—œå¸¸æ•¸ï¼ˆè‹¥éœ€è¦ï¼‰
  /components          # å­å…ƒä»¶ï¼ˆè‹¥éœ€è¦ï¼‰
```

### ç‹€æ…‹ç®¡ç†

#### Redux Store åˆ‡ç‰‡

| Slice | è·è²¬ |
|---|---|
| `exercise` | é‹å‹•ç‹€æ…‹ã€è¨ˆæ™‚å™¨ã€é‹å‹•é¡å‹èˆ‡åˆ—è¡¨ç®¡ç† |
| `audio` | éŸ³æ•ˆæ§åˆ¶èˆ‡éœéŸ³ç‹€æ…‹ |
| `theme` | ä¸»é¡Œè¨­å®šï¼ˆäº®è‰²/æš—è‰²æ¨¡å¼ï¼‰ |
| `userInfo` | ä½¿ç”¨è€…è³‡è¨Šã€è¨­å®šèˆ‡ UI ç‹€æ…‹ |
| `firebase` | Firebase é€£æ¥ç‹€æ…‹ç®¡ç† |
| `workoutReport` | é‹å‹•å ±å‘Šèˆ‡çµ±è¨ˆæ•¸æ“š |

#### æŒä¹…åŒ–ç­–ç•¥

ä½¿ç”¨ Redux Persist é‡å°é—œéµè³‡æ–™å¯¦ç¾æŒä¹…åŒ–ï¼š

```typescript
const exercisePersistConfig = {
  key: "exercise",
  storage,
  whitelist: ["currentExercise", "remainingExercises", "workoutType"],
};
```

#### è³‡æ–™æµç¨‹

```
ç”¨æˆ¶æ“ä½œ â†’ è§¸ç™¼ Action â†’ Reducer æ›´æ–° State
  â†‘                                    |
  â””â”€â”€â”€â”€ UI æ¸²æŸ“ â†â”€â”€â”€â”€ Selectors â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             |
                     Firebase / LocalStorage
```

### Hooks æ¶æ§‹

#### è‡ªå®šç¾© Hooks åˆ†é¡

| åˆ†é¡ | Hook | ç”¨é€” |
|---|---|---|
| è¨ˆæ™‚å™¨ | `useTimerLogic` | è¨ˆæ™‚å™¨æ ¸å¿ƒé‚è¼¯èˆ‡åˆ‡æ›ä¸‹ä¸€å€‹é‹å‹•çš„æ™‚æ©Ÿ |
| éŸ³æ•ˆ | `useMetronome` | ç¯€æ‹å™¨æ§åˆ¶ |
| éŸ³æ•ˆ | `useCountdownSound` | å€’æ•¸éŸ³æ•ˆè™•ç† |
| UI | `useMediaQuery` | éŸ¿æ‡‰å¼æ–·é»åµæ¸¬ |
| Redux | `useAppDispatch` / `useAppSelector` | é¡å‹å®‰å…¨çš„ Redux Hooks |
| èªè­‰ | `useAuth` | Firebase èªè­‰æ•´åˆ |

#### Hooks è¨­è¨ˆåŸå‰‡

- **å–®ä¸€è·è²¬**ï¼šæ¯å€‹ Hook å°ˆæ³¨æ–¼è§£æ±ºç‰¹å®šå•é¡Œ
- **å¯é‡ç”¨æ€§**ï¼šè·¨çµ„ä»¶å…±äº«é‚è¼¯
- **é—œæ³¨é»åˆ†é›¢**ï¼šUI é‚è¼¯èˆ‡æ¥­å‹™é‚è¼¯åˆ†é›¢
- **é¡å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript é¡å‹æ”¯æŒ

### æ¨£å¼æ¶æ§‹

1. **CSS Modules**ï¼šå…ƒä»¶ç‰¹å®šæ¨£å¼ä½¿ç”¨ `.module.css` æ–‡ä»¶éš”é›¢ï¼Œé€šéé¡åå‘½åå¯¦ç¾æ¨£å¼ç¯„åœéš”é›¢
2. **å…¨å±€è®Šæ•¸ç³»çµ±**ï¼šåœ¨ `globals.css` ä¸­å®šç¾©é¡è‰²ã€é–“è·ã€å­—é«”ç­‰ CSS è‡ªå®šç¾©å±¬æ€§
3. **Ant Design ä¸»é¡Œæ•´åˆ**ï¼šé€šé ConfigProvider é›†ä¸­é…ç½®ä¸»é¡Œï¼›ç‰¹å®šçµ„ä»¶é€šé CSS Modules è¦†å¯«æ¨£å¼

### å„²å­˜æ–¹æ¡ˆèˆ‡ç¬¬ä¸‰æ–¹æœå‹™

| æœå‹™ | ç”¨é€” |
|---|---|
| Firebase Authentication | ä½¿ç”¨è€…ç™»å…¥ï¼è¨»å†Š |
| Firebase Firestore | ç”¨æˆ¶è³‡æ–™ã€é‹å‹•è¨˜éŒ„ã€è¨“ç·´å ±å‘Š |
| Chart.js | å ±è¡¨æ•¸æ“šè¦–è¦ºåŒ– |
| Web Audio API | ç¯€æ‹å™¨å’Œæç¤ºéŸ³æ•ˆ |

---

## æ¶æ§‹åœ–

### æ‡‰ç”¨æ¶æ§‹ç¸½è¦½

```mermaid
graph TD
    User(ä½¿ç”¨è€…) --> |ä½¿ç”¨| App[Neo Fitness Partner æ‡‰ç”¨]

    subgraph "å‰ç«¯æ¡†æ¶"
        App --> NextJS[Next.js 14]
        NextJS --> React[React å…ƒä»¶]
        NextJS --> Router[Next.js è·¯ç”±]
    end

    subgraph "ç‹€æ…‹ç®¡ç†"
        React --> |ä½¿ç”¨| Redux[Redux Toolkit]
        Redux --> ReduxPersist[Redux Persist]
        Redux --> ExerciseSlice[exercise åˆ‡ç‰‡]
        Redux --> AudioSlice[audio åˆ‡ç‰‡]
        Redux --> ThemeSlice[theme åˆ‡ç‰‡]
        Redux --> UserInfoSlice[userInfo åˆ‡ç‰‡]
        Redux --> WorkoutReportSlice[workoutReport åˆ‡ç‰‡]
        Redux --> FirebaseSlice[firebase åˆ‡ç‰‡]
    end

    subgraph "æ•¸æ“šè™•ç†"
        Redux --> |å­˜å–| Firebase[(Firebase)]
        Firebase --> Authentication[èº«ä»½é©—è­‰]
        Firebase --> Firestore[Firestore æ•¸æ“šåº«]
    end

    subgraph "UI å…ƒä»¶"
        React --> AntDesign[Ant Design]
        React --> CustomComponents[è‡ªå®šç¾©å…ƒä»¶]
        React --> CSSModules[CSS Modules]
        React --> TailwindCSS[Tailwind CSS]
        React --> ReactSpring[React Spring]
    end

    subgraph "åŠŸèƒ½æ¨¡å¡Š"
        App --> HomePage[é¦–é ]
        App --> WorkoutPlanPage[é‹å‹•è¨ˆåŠƒé ]
        App --> ExercisePage[é‹å‹•åŸ·è¡Œé ]
        App --> ReportPage[å ±è¡¨é ]
        App --> LoginPage[ç™»å…¥é ]

        ExercisePage --> HIITMode[HIIT æ¨¡å¼]
        ExercisePage --> SlowRunMode[è¶…æ…¢è·‘æ¨¡å¼]

        HIITMode --> Timer[è¨ˆæ™‚å™¨]
        HIITMode --> ExerciseControls[é‹å‹•æ§åˆ¶]

        SlowRunMode --> Metronome[ç¯€æ‹å™¨]
        SlowRunMode --> RunningControls[è·‘æ­¥æ§åˆ¶]
    end

    subgraph "éŸ³æ•ˆç³»çµ±"
        AudioSlice --> WebAudioAPI[Web Audio API]
        WebAudioAPI --> UseSound[use-sound åº«]
        UseSound --> CountdownSound[å€’è¨ˆæ™‚éŸ³æ•ˆ]
        UseSound --> MetronomeSound[ç¯€æ‹å™¨éŸ³æ•ˆ]
    end

    subgraph "Hooks æ¶æ§‹"
        React --> CustomHooks[è‡ªå®šç¾© Hooks]
        CustomHooks --> TimerHooks[è¨ˆæ™‚å™¨é‚è¼¯]
        CustomHooks --> AudioHooks[éŸ³æ•ˆè™•ç†]
        CustomHooks --> AuthHooks[èªè­‰é‚è¼¯]
        CustomHooks --> UIHooks[UI é‚è¼¯]
        CustomHooks --> ReduxHooks[Redux æ•´åˆ]
    end
```

### è³‡æ–™æµæ¶æ§‹åœ–

```mermaid
flowchart TB
    User([ä½¿ç”¨è€…]) --> |äº’å‹•| UI[UI å…ƒä»¶]
    UI --> |è§¸ç™¼| Actions[Redux Actions]
    Actions --> |è™•ç†| Reducers[Redux Reducers]
    Reducers --> |æ›´æ–°| Store[Redux Store]
    Store --> |è³‡æ–™è¨‚é–±| UI
    Store --> |æŒä¹…åŒ–| LocalStorage[(Local Storage)]
    LocalStorage --> |æ¢å¾©| Store

    subgraph "ç•°æ­¥æ“ä½œ"
        Actions --> |API è«‹æ±‚| Firebase[(Firebase)]
        Firebase --> |å›å‚³è³‡æ–™| Actions
    end

    subgraph "ç‹€æ…‹ç®¡ç†"
        Store --> ExerciseState[é‹å‹•ç‹€æ…‹]
        Store --> AudioState[éŸ³æ•ˆç‹€æ…‹]
        Store --> ThemeState[ä¸»é¡Œç‹€æ…‹]
        Store --> UserState[ä½¿ç”¨è€…ç‹€æ…‹]
        Store --> ReportState[å ±è¡¨ç‹€æ…‹]
        Store --> FirebaseState[Firebase ç‹€æ…‹]
    end

    subgraph "è‡ªå®šç¾© Hooks"
        UI --> CustomHooks[è‡ªå®šç¾© Hooks]
        CustomHooks --> |ä½¿ç”¨| Store
        CustomHooks --> |æ›´æ–°| Actions
    end
```

### å…ƒä»¶çµæ§‹åœ–

```mermaid
graph TD
    App[App] --> Layout[Layout]
    App --> StoreProvider[StoreProvider]
    Layout --> |è·¯ç”±| Pages[é é¢å…ƒä»¶]
    Layout --> Navigation[å°èˆªå…ƒä»¶]
    Layout --> AuthProvider[èªè­‰æä¾›è€…]
    Layout --> ThemeProvider[ä¸»é¡Œæä¾›è€…]

    subgraph "é é¢çµæ§‹"
        Pages --> HomePage[é¦–é ]
        Pages --> LoginPage[ç™»å…¥é ]
        Pages --> WorkoutPlanPage[é‹å‹•è¨ˆåŠƒé ]
        Pages --> ExercisePage[é‹å‹•åŸ·è¡Œé ]
        Pages --> ReportPage[å ±è¡¨é ]
    end

    subgraph "å…ƒä»¶æª”æ¡ˆçµæ§‹"
        Component[å…ƒä»¶] --> IndexFile["index.tsx (å…ƒä»¶ä¸»æª”)"]
        Component --> StyleFile["styles.module.css (æ¨£å¼)"]
        Component --> ConstFile["const.ts (å¸¸æ•¸å®šç¾©)"]
        Component --> SubComponents["components/ (å­å…ƒä»¶)"]
    end

    subgraph "åŠŸèƒ½é é¢çµ„ä»¶"
        WorkoutPlanPage --> FormContent[è¡¨å–®å…§å®¹]
        WorkoutPlanPage --> FormAction[è¡¨å–®æ“ä½œ]
        WorkoutPlanPage --> SimpleModeSelector[æ¨¡å¼é¸æ“‡å™¨]
        WorkoutPlanPage --> PlanForm[è¨ˆåŠƒè¡¨å–®]
        WorkoutPlanPage --> PopularSet[ç†±é–€çµ„åˆ]

        ExercisePage --> ControlPanel[æ§åˆ¶é¢æ¿]
        ExercisePage --> Exercise[é‹å‹•é¡¯ç¤º]
        ExercisePage --> UnifiedTimer[çµ±ä¸€è¨ˆæ™‚å™¨]
        ExercisePage --> Metronome[ç¯€æ‹å™¨]
        ExercisePage --> ReactSpringBg[èƒŒæ™¯å‹•ç•«]
        ExercisePage --> TimerBg[è¨ˆæ™‚å™¨èƒŒæ™¯]
        ExercisePage --> WorkoutModeSelector[é‹å‹•æ¨¡å¼é¸æ“‡å™¨]
    end
```

### æ•¸æ“šèˆ‡é‚è¼¯æ¶æ§‹åœ–

```mermaid
classDiagram
    class User {
        +String uid
        +String email
        +String displayName
        +Object settings
    }

    class WorkoutPlan {
        +String id
        +String userId
        +String workoutType
        +Array exercises
        +Number duration
        +Number restTime
        +Number bpm
    }

    class WorkoutReport {
        +String id
        +String userId
        +Date timestamp
        +String workoutType
        +Number duration
        +Array exercises
        +Object stats
    }

    class Exercise {
        +String id
        +String name
        +Number duration
        +Number rest
    }

    class ExerciseSlice {
        +String workoutType
        +String status
        +WorkoutItem currentExercise
        +WorkoutItem[] remainingExercises
        +WorkoutItem[] completedExercises
        +setWorkoutPlan()
        +startExercise()
        +pauseExercise()
        +finishExercise()
        +moveToNextExercise()
    }

    class AudioSlice {
        +Boolean muted
        +toggleMuted()
        +setMuted()
    }

    class Hooks {
        +useTimerLogic()
        +useMetronome()
        +useCountdownSound()
        +useAuth()
        +useMediaQuery()
    }

    User "1" -- "n" WorkoutPlan : creates
    User "1" -- "n" WorkoutReport : has
    WorkoutPlan "1" -- "n" Exercise : contains
    WorkoutReport "1" -- "n" Exercise : records
    ExerciseSlice -- Exercise : manages
    ExerciseSlice -- WorkoutPlan : configures
    AudioSlice -- Hooks : consumed by
    ExerciseSlice -- Hooks : consumed by
```
